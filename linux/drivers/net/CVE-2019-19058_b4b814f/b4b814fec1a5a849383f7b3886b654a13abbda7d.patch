commit b4b814fec1a5a849383f7b3886b654a13abbda7d
Author: Navid Emamdoost <navid.emamdoost@gmail.com>
Date:   Thu Sep 12 23:23:27 2019 -0500

    iwlwifi: dbg_ini: fix memory leak in alloc_sgtable
    
    In alloc_sgtable if alloc_page fails, the alocated table should be
    released.
    
    Signed-off-by: Navid Emamdoost <navid.emamdoost@gmail.com>
    Signed-off-by: Luca Coelho <luciano.coelho@intel.com>

diff --git a/drivers/net/wireless/intel/iwlwifi/fw/dbg.c b/drivers/net/wireless/intel/iwlwifi/fw/dbg.c
index 5c8602d..8742180 100644
--- a/drivers/net/wireless/intel/iwlwifi/fw/dbg.c
+++ b/drivers/net/wireless/intel/iwlwifi/fw/dbg.c
@@ -646,6 +646,7 @@ static struct scatterlist *alloc_sgtable(int size)
 				if (new_page)
 					__free_page(new_page);
 			}
+			kfree(table);
 			return NULL;
 		}
 		alloc_size = min_t(int, size, PAGE_SIZE);
