commit af369db4d3833272b8ed443f7fcc2e757a0872eb
Author: Daniel Stenberg <daniel@haxx.se>
Date:   Fri Mar 10 08:22:51 2023 +0100

    url: fix the SSH connection reuse check
    
    Reported-by: Harry Sintonen
    Closes #10735

diff --git a/lib/url.c b/lib/url.c
index c5d54d19e..1b419a08b 100644
--- a/lib/url.c
+++ b/lib/url.c
@@ -1315,7 +1315,7 @@ ConnectionExists(struct Curl_easy *data,
            (data->state.httpwant < CURL_HTTP_VERSION_3))))
         continue;
 
-      if(get_protocol_family(needle->handler) == PROTO_FAMILY_SSH) {
+      if(get_protocol_family(needle->handler) & PROTO_FAMILY_SSH) {
         if(!ssh_config_matches(needle, check))
           continue;
       }
