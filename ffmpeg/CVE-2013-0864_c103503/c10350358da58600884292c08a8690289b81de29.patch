commit c10350358da58600884292c08a8690289b81de29	c10350358da58600884292c08a8690289b81de29
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Thu Jan 24 23:11:10 2013 +0100

    gifdec: gif_copy_img_rect: Fix end pointer
    
    Fixes out of array accesses
    
    Found-by: Mateusz "j00ru" Jurczyk and Gynvael Coldwind
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/gifdec.c b/libavcodec/gifdec.c
index 51e8422951..2d9f8b4f3d 100644
--- a/libavcodec/gifdec.c
+++ b/libavcodec/gifdec.c
@@ -119,7 +119,7 @@ static void gif_copy_img_rect(const uint32_t *src, uint32_t *dst,
     const uint32_t *src_px, *src_pr,
                    *src_py = src + y_start,
                    *dst_py = dst + y_start;
-    const uint32_t *src_pb = src_py + t * linesize;
+    const uint32_t *src_pb = src_py + h * linesize;
     uint32_t *dst_px;
 
     for (; src_py < src_pb; src_py += linesize, dst_py += linesize) {
