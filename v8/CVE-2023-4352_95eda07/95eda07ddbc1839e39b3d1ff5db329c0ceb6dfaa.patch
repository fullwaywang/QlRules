commit 95eda07ddbc1839e39b3d1ff5db329c0ceb6dfaa	95eda07ddbc1839e39b3d1ff5db329c0ceb6dfaa
Author: Tobias Tebbi <tebbi@chromium.org>
Date:   Tue Jun 13 11:50:11 2023 +0200

    [compiler] check for read-only property on AccessMode::kDefine
    
    Bug: chromium:1452076
    Change-Id: I13903cead4d5d73368bbe9aaf92853421cf80e70
    Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/4608408
    Reviewed-by: Samuel Gro√ü <saelo@chromium.org>
    Commit-Queue: Tobias Tebbi <tebbi@chromium.org>
    Auto-Submit: Tobias Tebbi <tebbi@chromium.org>
    Cr-Commit-Position: refs/heads/main@{#88202}

diff --git a/src/compiler/access-info.cc b/src/compiler/access-info.cc
index ac29700927e..3f79a09edc8 100644
--- a/src/compiler/access-info.cc
+++ b/src/compiler/access-info.cc
@@ -758,8 +758,7 @@ PropertyAccessInfo AccessInfoFactory::ComputePropertyAccessInfo(
     }
 
     if (index.is_found()) {
-      if (access_mode == AccessMode::kStore ||
-          access_mode == AccessMode::kStoreInLiteral) {
+      if (IsAnyStore(access_mode)) {
         DCHECK(!map.is_dictionary_map());
 
         // Don't bother optimizing stores to read-only properties.
