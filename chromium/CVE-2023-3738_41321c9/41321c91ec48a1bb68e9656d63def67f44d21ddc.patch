commit 41321c91ec48a1bb68e9656d63def67f44d21ddc	41321c91ec48a1bb68e9656d63def67f44d21ddc
Author: Christoph Schwering <schwering@google.com>
Date:   Tue May 9 13:01:10 2023 +0000

    [Autofill] Require minimum width of Autofill popup
    
    This CL sets the minimum width of the Autofill popup to 150 px so
    that it exceeds the maximum width of a cursor.
    
    Bug: 1434330
    Change-Id: Iecdf80e03d93b5e440847935eb5e71636c687381
    Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/4506703
    Reviewed-by: Mohamed Amir Yosef <mamir@chromium.org>
    Quick-Run: Dima Sholkov <dsholkov@google.com>
    Commit-Queue: Christoph Schwering <schwering@google.com>
    Cr-Commit-Position: refs/heads/main@{#1141320}

diff --git a/chrome/browser/ui/views/autofill/popup/popup_view_views.cc b/chrome/browser/ui/views/autofill/popup/popup_view_views.cc
index 52e279f37060b..05cee77e38cbb 100644
--- a/chrome/browser/ui/views/autofill/popup/popup_view_views.cc
+++ b/chrome/browser/ui/views/autofill/popup/popup_view_views.cc
@@ -70,7 +70,10 @@ namespace {
 // By spec, dropdowns should always have a width which is a multiple of 12.
 constexpr int kAutofillPopupWidthMultiple = 12;
 
-constexpr int kAutofillPopupMinWidth = 0;
+// The minimum width should exceed the maximum size of a cursor, which is 128
+// (see crbug.com/1434330).
+constexpr int kAutofillPopupMinWidth = kAutofillPopupWidthMultiple * 13;
+static_assert(kAutofillPopupMinWidth > 128);
 // TODO(crbug.com/831603): move handling the max width to the base class.
 constexpr int kAutofillPopupMaxWidth = kAutofillPopupWidthMultiple * 38;
 
