commit 4931c8f0f10bf8dedcf626104a6b85bfefadc6f2	4931c8f0f10bf8dedcf626104a6b85bfefadc6f2
Author: Michael Niedermayer <michaelni@gmx.at>
Date:   Fri Nov 18 19:10:21 2011 +0100

    svq1dec: call avcodec_set_dimensions() after dimensions changed.
    Fixes NGS00148
    
    Found-by: Phillip Langlois
    Signed-off-by: Michael Niedermayer <michaelni@gmx.at>

diff --git a/libavcodec/svq1dec.c b/libavcodec/svq1dec.c
index cb8a622f26..abd8adc6d1 100644
--- a/libavcodec/svq1dec.c
+++ b/libavcodec/svq1dec.c
@@ -658,6 +658,7 @@ static int svq1_decode_frame(AVCodecContext *avctx,
     av_dlog(s->avctx, "Error in svq1_decode_frame_header %i\n",result);
     return result;
   }
+  avcodec_set_dimensions(avctx, s->width, s->height);
 
   //FIXME this avoids some confusion for "B frames" without 2 references
   //this should be removed after libavcodec can handle more flexible picture types & ordering
